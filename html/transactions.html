<%include file="header.html" />
<h1>RPC Info</h1>
<table id="info">
<tr>
    <th>RPC</th>
    <th>Transaction</th>
</tr>
</table>
<input type="button" onClick="forAllRPCs(getTransactions)" value="Update" />
<script>
function getTransactions(rpc) {
    if(rpc == null) return;
    $.getJSON( "/api/" + rpc + "/transactions", function( data ) {
        var transactions = data['transactions'];
        var tr = $('<tr />', {
            id: rpc,
            class: "rpc"
        });
        var td = $('<td />', {
            text: rpc
        });
        td.appendTo(tr);
        //var keys = Array('connections', 'blocks', 'walletversion',
        //                 'difficulty', 'version', 'protocolversion',
        //                 'balance');
        //for(i=0; i<keys.length; ++i) {
        //    if(info[keys[i]] != null) {
        //        var td = $('<td />', {
        //            text: info[keys[i]]
        //        });
        //        td.appendTo(tr);
        //    }
        //}
        td = $('<td />', {
            html: transactions
        });
        td.appendTo(tr);
        tr.appendTo($('#info'));
    });
}
</script>
